<UserControl x:Class="View.FrequencyRelationships.AnalyticalFrequencyEditor"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:Ca="clr-namespace:Consequences_Assist;assembly=Consequences_Assist"
             xmlns:Cac="clr-namespace:Consequences_Assist.Controls;assembly=Consequences_Assist"
             xmlns:local="clr-namespace:View.FrequencyRelationships"
             xmlns:functions="clr-namespace:FunctionsView.View;assembly=FunctionsView"
             xmlns:oxy="http://oxyplot.org/wpf"
             xmlns:cmds="clr-namespace:View.Commands"
             xmlns:Utilities="clr-namespace:View.Utilities"
             mc:Ignorable="d" 
             d:DesignHeight="400" d:DesignWidth="650">
    <UserControl.Resources>
        <cmds:HasErrorConverter x:Key="HasErrorConverter"/>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="35"/>
            <RowDefinition Height="140"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="90" />
            <RowDefinition Height="35"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="120"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="35"/>
                <RowDefinition Height="35" />
            </Grid.RowDefinitions>
            <Utilities:SaveControl Grid.Row="0" Grid.ColumnSpan="2"/>
            <!--<Button Name="btn_Save" Grid.Row="0" Grid.ColumnSpan="2" Content="Save" HorizontalAlignment="Stretch" IsEnabled="{Binding Path=HasFatalError, Converter={StaticResource HasErrorConverter}, UpdateSourceTrigger=PropertyChanged}" Background="LightGreen" Click="btn_Save_Click" Margin="5,0,5,0" />-->
            <Label Grid.Row="1" Grid.Column="0" Content="Name:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Name, ValidatesOnDataErrors=True}" Margin="5"/>
        </Grid>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="120"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Label Content="Description:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
            <Cac:TextBoxDescription Grid.Column="1" Text="{Binding Description}" Margin="5"/>
        </Grid>
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200*" />
                <ColumnDefinition Width="200*"/>
            </Grid.ColumnDefinitions>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="80*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35"/>
                    <RowDefinition Height="35"/>
                    <RowDefinition Height="35"/>
                    <RowDefinition Height="35"/>
                </Grid.RowDefinitions>
                <Label Content="Mean:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                <TextBox Grid.Column="1" Text="{Binding Mean, ValidatesOnDataErrors=True}" Margin="5"/>

                <Label Grid.Row="1"  Content="Standard Deviation:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                <TextBox Grid.Row="1"  Grid.Column="1" Text="{Binding StandardDeviation, ValidatesOnDataErrors=True}" Margin="5"/>

                <Label Grid.Row="2"  Content="Skew:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Skew, ValidatesOnDataErrors=True}" Margin="5"/>

                <Label Grid.Row="3"  Content="Record Length:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                <TextBox Grid.Row="3"  Grid.Column="1" Text="{Binding SampleSize, ValidatesOnDataErrors=True}" Margin="5"/>
            </Grid>
            <!--<Grid Grid.Row="0" Grid.Column="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="80*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="35"/>
                        <RowDefinition Height="35"/>
                        <RowDefinition Height="35"/>
                        <RowDefinition Height="35"/>
                    </Grid.RowDefinitions>
                    <Label Content="Calculate any possible value for flow:" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.ColumnSpan="2"/>

                    <Label Grid.Row="1"  Content="Probability:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                    <TextBox Grid.Row="1"  Grid.Column="1" Text="{Binding TestNatural}" Margin="5"/>

                    <Label Grid.Row="2"  Content="Confidence Interval:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding TestKnowledge}" Margin="5"/>

                    <Label Grid.Row="3"  Content="Flow:" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                    <TextBox Grid.Row="3"  Grid.Column="1" IsReadOnly="True" Text="{Binding Result, Mode=OneWay}" Margin="5"/>
                </Grid>-->
            </Grid>
        <Grid Grid.Row="3">
            <!--<functions:CoordinatesFunctionEditor Margin="5" EditorVM="{Binding EditorVM}" />-->

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="325" MinWidth="325"/>
                <ColumnDefinition Width="200*" MinWidth="325"/>
            </Grid.ColumnDefinitions>

            <Cac:ValidationDataGrid Name="DataGrid"  AutoGenerateColumns="True" IsReadOnly="True" AutoGeneratingColumn="ValidationDataGrid_AutoGeneratingColumn" AutoGeneratedColumns="DataGrid_AutoGeneratedColumns" Margin="5" ItemsSource="{Binding Items}"/>
            <GridSplitter Grid.Column="1"  Margin="-2,0,0,0" Width="4" HorizontalAlignment="Left" VerticalAlignment="Stretch"></GridSplitter>

            <Ca:ExpandedOxyPlot Name="Plot" Grid.Column="1" Margin="5" LegendPosition="BottomRight" >
                <oxy:Plot.Axes>
                    <oxy:LogarithmicAxis Position="Left" MajorGridlineStyle="Solid" MinorGridlineStyle="Dash" Title="Flow (cfs)"/>
                    <oxy:LinearAxis Position="Bottom" MajorGridlineStyle="Solid" MinorGridlineStyle="Dash" Title="Frequency"/>
                </oxy:Plot.Axes>
                <oxy:Plot.Series>
                    <oxy:LineSeries ItemsSource="{Binding Path=Items}" DataFieldX="Probability" DataFieldY="NintyFive" Title="0.95"/>
                    <oxy:LineSeries ItemsSource="{Binding Path=Items}" DataFieldX="Probability" DataFieldY="SeventyFive" Title="0.75"/>
                    <oxy:LineSeries ItemsSource="{Binding Path=Items}" DataFieldX="Probability" DataFieldY="Mean" Title="Mean"/>
                    <oxy:LineSeries ItemsSource="{Binding Path=Items}" DataFieldX="Probability" DataFieldY="TwentyFive" Title="0.25"/>
                    <oxy:LineSeries ItemsSource="{Binding Path=Items}" DataFieldX="Probability" DataFieldY="OhFive" Title="0.05"/>
                </oxy:Plot.Series>
            </Ca:ExpandedOxyPlot>

        </Grid>
        <GridSplitter Grid.Row="4" Height="5" HorizontalAlignment="Stretch" />
        <!--<Utilities:TransactionMessageControl Grid.Row="5" />-->
        <Utilities:OKCloseControl Grid.Row="6"/>
    </Grid>
</UserControl>
